<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width,initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no,minimal-ui">
  <title>微信Code转发调试接口</title>
<style>
pre{margin-top: 5em; margin-bottom: 5em;}
.code{padding: 0 3em; word-break: break-all; line-height: 1.5;}
#code{color:#f00; font-size: 2rem;}
</style>
</head>
<body>
  <h1>这是一个中转页面。。。</h1>
  <p>获取到微信的授权 code 转发到指定的 jumpurl</p>
  <p>当前 code 是：<strong id="code"></strong> </p>
<pre>
  //您可以使用下面方面生成一个用于开发的中转地址：

  _.geturl("snsapi_base")

  _.geturl("snsapi_base", "http://10.0.0.119/wechat/index.html")

  _.geturl("snsapi_userinfo", "http://10.0.0.119/wechat/index.html")
</pre>
  
  <h4>生成的地址类似如下结构：</h4>
  <pre class="code">https://open.weixin.qq.com/connect/oauth2/authorize
  ?appid=wxaa8d6f34c8d0a56b
  &redirect_uri=
      encodeURIComponent(
          http://m.iqianggou.com/tests/wechat/index.html
          ?usertype=snsapi_userinfo
          &bindtype=snsapi_base
          &jumpurl=
              encodeURIComponent(
                  http://10.0.0.119/wechat/index.html
              )
      )
      http%3A%2F%2Fm.iqianggou.com%2Fwechat%2Fcode.html
      %3Fusertype%3Dsnsapi_userinfo
      %26bindtype%3Dsnsapi_base
      %26jumpurl%3Dhttp%253A%252F%252F10.0.0.119%252Fwechat%252Findex.html
  &response_type=code
  &scope=snsapi_userinfo
  &state=1440067187699
  &connect_redirect=1
  #wechat_redirect</pre>
  <a href="https://open.weixin.qq.com/connect/oauth2/authorize?appid=wxaa8d6f34c8d0a56b&redirect_uri=http%3A%2F%2Fm.iqianggou.com%2Ftests%2Fwechat%2Fcode.html%3Fusertype%3Dsnsapi_userinfo%26bindtype%3Dsnsapi_base%26jumpurl%3Dhttp%253A%252F%252F10.0.0.119%252Fwechat%252Findex.html&response_type=code&scope=snsapi_userinfo&state=1440067187699&connect_redirect=1#wechat_redirect" target="_blank">
  <pre class="code">https://open.weixin.qq.com/connect/oauth2/authorize
  ?appid=wxaa8d6f34c8d0a56b
  &redirect_uri=
      http%3A%2F%2Fm.iqianggou.com%2Ftests%2Fwechat%2Fcode.html
      %3Fusertype%3Dsnsapi_userinfo
      %26bindtype%3Dsnsapi_base
      %26jumpurl%3Dhttp%253A%252F%252F10.0.0.119%252Fwechat%252Findex.html
  &response_type=code
  &scope=snsapi_userinfo
  &state=1440067187699
  &connect_redirect=1
  #wechat_redirect</pre></a>
<!-- <script src="../js/zepto.min.js"></script>
<script src="../js/underscore.min.js"></script>
<script src="../js/underscore.extend.js"></script> -->
<script src="loadjs.js"></script>
</body>
</html>